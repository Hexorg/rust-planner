task Main:
    method eat(isHungry):
        Eat()
    method wait:
        wait()

task Eat:
    method EatFromPocket(haveFood):
        EatFromPocket()
    method EatFromRestaurant(!haveFood & atRestaurant):
        EatFromRestaurant()

task EatFromPocket:
    eat_from_pocket()
effects:
    isHungry = false
    haveFood = false

task EatFromRestaurant(atRestaurant):
    eat_from_restaurant()
effects:
    isHungry = false

task GotoRestaurant(!atRestaurant):
    target = findRestaurant()
    goto(target)
effects:
    atRestaurant = true