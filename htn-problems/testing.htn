task main:
    method Attack(WsCanSeeEnemy): # name(conditions)
        AttackEnemy()
    else: # syntactic sugar for "method bla(!WsCanSeeEnemy)"
        bridge = ChooseBridgeToCheck()
        NavigateToBridge()
        CheckBridge()

task AttackEnemy:
    method AttackWithTrunk(WsTrunkHealth > 0):
        NavigateToEnemy()
        DoTrunkSlam()

    method default:
        FindTrunk()
        NavigateToTrunk()
        UprootTrunk()
        AttackEnemy()

task NavigateToBridge:
    NavigateTo(bridge)
effects:
    WsCanSeeEnemy = 1

task CheckBridge:
    main()

task DoTrunkSlam:
    DoTrunkSlamOperator()
effects:
    WsTrunkHealth -= 1


task FindTrunk:
    trunk = FindTrunkOperator() # Operator results can be stored in blackboard
effects:
    foundTrunk = true # not needed if the sequence is always the same

task NavigateToEnemy:
    NavigateTo(enemy) # blackboard is prefilled with certain knowledge


task NavigateToTrunk(foundTrunk):
    NavigateTo(trunk)
effects:
    atTrunk = true


task UprootTrunk(atTrunk):
    UprootTrunkOperator(trunk)
effects:
    WsTrunkHealth = 3
    
