task Main:
    method Attack(WsCanSeeEnemy): # name(conditions)
        AttackEnemy()
    else: # syntactic sugar for "method bla(!WsCanSeeEnemy)"
        CheckBridge()

task AttackEnemy:
    method AttackWithTrunk(WsTrunkHealth > 0):
        NavigateToEnemy()
        DoTrunkSlam()
        Main()



task DoTrunkSlam(WsTrunkHealth > 0):
    DoTrunkSlamOperator()
effects:
    WsTrunkHealth -= 1

task ChooseBridgeToCheck:
    target = chooseBridge()
effects:
    targetIsBridge = true 

task NavigateToBridge(targetIsBridge == true):
    NavigateTo(target)

task FindTrunk:
    trunk = FindTrunkOperator() # Operator results can be stored in blackboard
effects:
    foundTrunk = true # not needed if the sequence is always the same

task NavigateToEnemy(WsCanSeeEnemy):
    NavigateTo(enemy) # blackboard is prefilled with certain knowledge


task NavigateToTrunk(foundTrunk):
    NavigateTo(trunk)
effects:
    atTrunk = true


task UprootTrunk(atTrunk):
    UprootTrunkOperator(trunk)
effects:
    WsTrunkHealth = 3
    foundTrunk = false
    atTrunk = false
    